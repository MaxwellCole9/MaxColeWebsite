/* ===== Header (glassy, minimal, no button system) ===== */

.header{
  position: fixed;
  inset: 0 0 auto 0;
  height: var(--navbar-height);
  z-index: 100;

  /* glass */
  background: color-mix(in oklab, var(--tertiary-color), transparent 18%);
  -webkit-backdrop-filter: saturate(140%) blur(10px);
  backdrop-filter: saturate(140%) blur(10px);

  border-bottom: 1px solid color-mix(in oklab, var(--accent-dark), transparent 90%);
  box-shadow: var(--shadow-1);

  display: flex;
  align-items: center;
}

.header__inner{
  width: 100%;
  max-width: var(--container-max, 1200px);
  margin-inline: auto;
  padding-inline: clamp(1rem, 4vw, 2.5rem);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: clamp(.5rem, 2vw, 1rem);
}

.header__brand{
  font: 700 clamp(1rem, 1rem + .4vw, 1.25rem)/1 'Hanken Grotesk', system-ui, sans-serif;
  color: var(--text-color);
  text-decoration: none;
  letter-spacing: .01em;
}

/* Nav links (blend into glass) */
.header__nav{
  display: flex;
  align-items: center;
  gap: clamp(.4rem, 1.5vw, .75rem);
}

.header__link{
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: .5em;

  padding: .55rem .9rem;
  border-radius: .65rem;

  background: transparent;
  color: var(--accent-dark);
  text-decoration: none;
  font: 600 clamp(.9rem, .9rem + .1vw, 1rem)/1 'Hanken Grotesk', system-ui, sans-serif;

  transition: background-color .18s ease, color .18s ease, transform .15s ease;
}

.header__link:hover{
  background: color-mix(in oklab, var(--tertiary-color), white 22%);
  text-decoration: none;
}

.header__link:focus-visible{
  outline: 3px solid color-mix(in oklab, var(--accent-color), white 35%);
  outline-offset: 2px;
  border-radius: .55rem;
}

/* Active/current page: subtle filled pill + accent text + tiny underline */
.header__link.is-active{
  color: var(--accent-color);
  background: color-mix(in oklab, var(--accent-color) 12%, white 88%);
}
.header__link.is-active::after{
  content:"";
  position:absolute;
  left:.7rem; right:.7rem; bottom:.28rem;
  height:2px; border-radius:2px;
  background: var(--accent-color);
  opacity:.9;
}

/* Desktop micro-lift on hover only when precise pointer */
@media (hover: hover) and (pointer: fine){
  .header__link:hover{ transform: translateY(-1px); }
}

/* Compact header when scrolled (optional â€“ toggle class via JS) */
.header--scrolled{ height: clamp(52px, 6vh, 72px); }
.header--scrolled .header__link{ padding:.45rem .75rem; }

/* Mobile */
@media (max-width: 768px){
  .header{ height:auto; }
  .header__inner{
    flex-direction: column;
    align-items: stretch;
    gap:.5rem;
    padding-inline: clamp(1rem, 4vw, 2rem);
  }
  .header__nav{ flex-wrap: wrap; gap:.4rem; }
  .header__link{ padding:.5rem .75rem; font-size:.95rem; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .header__link{ transition: none; }
}

/* Fallback if backdrop-filter unsupported */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .header{
    background: color-mix(in oklab, var(--tertiary-color), white 12%);
  }
}
